<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CS4241 Assignment 1</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="style.css"/>
  </head>
  <body>
    <h1>Interactive US Map</h1>
    <h2>Team: Alexander Huot, Khoi Doan, Andrew Petit</h2> 
    <div id="country">
        
        <div id="city">
            <svg width="960" height="500">
                <circle cx="894.5904298167112" cy="105.48290513422194" r="10"></circle>
                <circle id="chicago" cx="618.6180697107831" cy="164.5951930014994" r="10"></circle>
                <circle id="dallas" cx="460.3202984929121" cy="383.1403249363311" r="10"></circle>
                <circle id="newYork" cx="854.5708175202567" cy="154.02359484534668" r="10"></circle>
                <circle id="la" cx="56.60659487711308" cy="304.2365506359156" r="10"></circle>
                <circle id="houston" cx="488.3685957613856" cy="453.15863250624943" r="10"></circle>
                <circle id="min" cx="520.3973525968821" cy="98.23279437830399" r="10"></circle>
                <circle id="denver" cx="317.56354129724684" cy="213.28621034875107" r="10"></circle>
                <circle id="dc" cx="811.4657161514506" cy="206.59056765014157" r="10"></circle>
                <circle id="atlanta" cx="696.8407306951635" cy="347.0457561301166" r="10"></circle>
                <circle id="az" cx="169.16160725691094" cy="341.585707740727" r="10"></circle>
                <circle id="philly" cx="838.7890402686346" cy="175.8370480134363" r="10"></circle>
            </svg>
            <script src="https://d3js.org/d3.v3.min.js"></script>
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
            <script src="bosny.js"></script>
            <script src="nypa.js"></script>
            <script src="nydc.js"></script>
            <script src="bschi.js"></script>
            <script src="nychi.js"></script>
            <script src="dcchi.js"></script>
            <script src="pachi.js"></script>
            <script src="chiat.js"></script>
            <script src="wasat.js"></script>
            <script src="athou.js"></script>
            <script src="atdal.js"></script>
            <script src="dalho.js"></script>
            <script src="chiho.js"></script>
            <script src="chida.js"></script>
            <script src="minda.js"></script>
            <script src="chimn.js"></script>
            <script src="chidn.js"></script>
            <script src="daldn.js"></script>
            <script src="mindn.js"></script>
            <script src="denaz.js"></script>
            <script src="dalaz.js"></script>
            <script src="houaz.js"></script>
            <script src="laaz.js"></script>
            <script src="denla.js"></script>
            <script src="wasDn.js"></script>
            <script src="wasda.js"></script>
            <script src="wasaz.js"></script>
            <script src="wasla.js"></script>
            <script src="chiaz.js"></script>
            <script>
                console.log(bosny);

                //contains all the routes to and from cities
                var multipointLine = {
                    "type" : "MultiLineString",
                    "coordinates" : []/*[bostonNewYork, newPa, newDc, bosChi, newChi, dcChi, paChi, chiAt, wasAt, atHou, atDal, dalHo, chiHo, chiDa, minDa, chiMn, chiDn, dalDn, minDn, denAz, dalAz, houAz, laAz, denLa]*/
                }
                var pressedCities = [];
                var svg = d3.select("svg");
                var array = [[894.5904298167112,105.48290513422194],[618.6180697107831,164.5951930014994],[460.3202984929121,383.1403249363311],[854.5708175202567,154.02359484534668], [56.60659487711308,304.2365506359156],[488.3685957613856,453.15863250624943],[520.3973525968821,98.23279437830399],[317.56354129724684,213.28621034875107],[811.4657161514506,206.59056765014157],[696.8407306951635,347.0457561301166],[169.16160725691094,341.585707740727],[838.7890402686346,175.8370480134363 ]];
                var length = array.length;
                console.log(length);
                
                //add events to each of the cities  
                var boston = svg.selectAll("circle")
                .data([[array[0][0], array[0][1], "boston"]], function(d) { return d; })
                var chicago = svg.selectAll("circle")
                .data([[array[1][0], array[1][1]]], function(d) {
                    return d; }) 
                var dallas = svg.selectAll("circle")
                .data([[array[2][0], array[2][1]]], function(d){
                    return d;})
                var newYork = svg.selectAll("circle")
                .data([[array[3][0], array[3][1]]], function(d){
                    return d;})
                var la = svg.selectAll("circle")
                .data([[array[4][0], array[4][1]]], function(d){
                    return d;})
                var houston = svg.selectAll("circle")
                .data([[array[5][0], array[5][1]]], function(d){
                    return d;})
                var min = svg.selectAll("circle")
                .data([[array[6][0], array[6][1]]], function(d){
                    return d;})
                var denver = svg.selectAll("circle")
                .data([[array[7][0], array[7][1]]], function(d){
                    return d;})
                var dc = svg.selectAll("circle")
                .data([[array[8][0], array[8][1]]], function(d){
                    return d;})
                var atlanta = svg.selectAll("circle")
                .data([[array[9][0], array[9][1]]], function(d){
                    return d;})
                var az = svg.selectAll("circle")
                .data([[array[10][0], array[10][1]]], function(d){
                    return d;})
                var philly = svg.selectAll("circle")
                .data([[array[11][0], array[11][1]]], function(d){
                    return d;})
                var cities = [boston, chicago, dallas, newYork, la, houston, min, denver, dc, atlanta, az, philly];
                for (var j = 0; j < cities.length; j++){
                    cities[j].enter().append("circle")
                    .attr("cy", function(d) { return d[1]; })
                    .attr("cx", function(d) { return d[0]; })
                    .attr("r", 5)
                    .attr("fill", "blue")
                    .on("click", clicked);

                    cities[j].exit().remove();
                }

                var bool = false;
                var objects = [];
                function clicked(d) {
                    if (bool){
                        d3.select("path").remove();
                        for (var k = 0; k < objects.length; k++){
                            var e = d3.select(objects[k]);
                            e.attr("fill", "blue");
                        }
                    
                        bool = false;
                        console.log(multipointLine.coordinates);
                        multipointLine.coordinates = [];
                        pressedCities = [];
                    }
                    objects.push(this);
                    var c = d3.select(this);
                    console.log(this.cx.animVal.value);
                    var value = this.cx.animVal.value;
                    addCityToList(value);
                    if(pressedCities.length == 2){
                        pressedTwoCities();
                    }
                    c.attr("fill", "yellow");
                }

                function addCityToList(value){
                    switch (value){
                        case 894.5904541015625:
                            pressedCities.push("boston");
                            break;
                        case 618.6180419921875:
                            pressedCities.push("chicago");
                            break;
                        case 460.3203125:
                            pressedCities.push("dallas");
                            break;
                        case 854.57080078125:
                            pressedCities.push("newyork");
                            break;
                        case 56.60659408569336:
                            pressedCities.push("la");
                            break;
                        case 488.36859130859375:
                            pressedCities.push("houston");
                            break;
                        case 520.3973388671875:
                            pressedCities.push("min");
                            break;
                        case 317.56353759765625:
                            pressedCities.push("denver");
                            break;
                        case 811.4656982421875:
                            pressedCities.push("dc");
                            break;
                        case 696.8407592773438:
                            pressedCities.push("atlanta");
                            break;
                        case 169.16160583496094:
                            pressedCities.push("az");
                            break;
                        case 838.7890625:
                            pressedCities.push("philly");
                            break;
                        default:
                            console.log("problem");
                        }
                }

                function pressedTwoCities(){
                    if (pressedCities.includes("boston") && pressedCities.includes("newyork")){
                        multipointLine.coordinates.push(bostonNewYork);
                    } 
                    if (pressedCities.includes("chicago") && pressedCities.includes("newyork")){
                        multipointLine.coordinates.push(newChi);
                    }
                    if (pressedCities.includes("chicago") &&
                        pressedCities.includes("boston")){
                        multipointLine.coordinates.push(bosChi);
                    }
                    if (pressedCities.includes("boston") && pressedCities.includes("dc")){
                        multipointLine.coordinates.push(bostonNewYork);
                        multipointLine.coordinates.push(newDc);
                    }
                    if (pressedCities.includes("newyork") && pressedCities.includes("philly")){
                        multipointLine.coordinates.push(newPa);
                    }
                    if (pressedCities.includes("newyork") &&
                        pressedCities.includes("dc")){
                        multipointLine.coordinates.push(newDc);
                    }
                    if (pressedCities.includes("philly") && pressedCities.includes("chicago")){
                        multipointLine.coordinates.push(paChi);
                    }
                    if (pressedCities.includes("dc") && pressedCities.includes("chicago")){
                        multipointLine.coordinates.push(dcChi);
                    }
                    if (pressedCities.includes("dc") && pressedCities.includes("atlanta")){
                        multipointLine.coordinates.push(wasAt);
                    }
                    if (pressedCities.includes("boston") && pressedCities.includes("philly")){
                        multipointLine.coordinates.push(bostonNewYork);
                        multipointLine.coordinates.push(newPa);
                    }
                    if (pressedCities.includes("boston") && pressedCities.includes("atlanta")){
                        multipointLine.coordinates.push(bostonNewYork);
                        multipointLine.coordinates.push(newDc);
                        multipointLine.coordinates.push(wasAt);
                    }
                    if (pressedCities.includes("newyork") && pressedCities.includes("atlanta")){
                        multipointLine.coordinates.push(newDc);
                        multipointLine.coordinates.push(wasAt);
                    }
                    if (pressedCities.includes("chicago") && pressedCities.includes("min")){
                        multipointLine.coordinates.push(chiMn);
                    }
                    if (pressedCities.includes("boston") && pressedCities.includes("min")){
                        multipointLine.coordinates.push(bosChi);
                        multipointLine.coordinates.push(chiMn);
                    }
                    if (pressedCities.includes("newyork") && pressedCities.includes("min")){
                        multipointLine.coordinates.push(newChi);
                        multipointLine.coordinates.push(chiMn);
                    }
                    if (pressedCities.includes("dc") && pressedCities.includes("min")){
                        multipointLine.coordinates.push(dcChi);
                        multipointLine.coordinates.push(chiMn);
                    }
                    if (pressedCities.includes("philly") && pressedCities.includes("min")){
                        multipointLine.coordinates.push(paChi);
                        multipointLine.coordinates.push(chiMn);
                    }
                    if (pressedCities.includes("atlanta") && pressedCities.includes("chicago")){
                        multipointLine.coordinates.push(chiAt);
                    }
                    if (pressedCities.includes("atlanta") && pressedCities.includes("min")){
                        multipointLine.coordinates.push(chiAt);
                        multipointLine.coordinates.push(chiMn);
                    }
                    if (pressedCities.includes("atlanta") && pressedCities.includes("dallas")){
                        multipointLine.coordinates.push(atDal);
                    }
                    if (pressedCities.includes("atlanta") && pressedCities.includes("houston")){
                        multipointLine.coordinates.push(atHou);
                    }
                    if (pressedCities.includes("dallas") && pressedCities.includes("houston")){
                        multipointLine.coordinates.push(dalHo);
                    }
                    if (pressedCities.includes("dallas") && pressedCities.includes("denver")){
                        multipointLine.coordinates.push(dalDn);
                    }
                    if (pressedCities.includes("houston") && pressedCities.includes("denver")){
                        multipointLine.coordinates.push(dalHo);
                        multipointLine.coordinates.push(dalDn);
                    }
                    if (pressedCities.includes("denver") && pressedCities.includes("chicago")){
                        multipointLine.coordinates.push(chiDn);
                    }
                    if (pressedCities.includes("min") && pressedCities.includes("denver")){
                        multipointLine.coordinates.push(minDn);
                    }
                    if (pressedCities.includes("dallas") && pressedCities.includes("chicago")){
                        multipointLine.coordinates.push(chiDa);
                    }
                    if (pressedCities.includes("houston") && pressedCities.includes("chicago")){
                        multipointLine.coordinates.push(chiHo);
                    }
                    if (pressedCities.includes("chicago") && pressedCities.includes("la")){
                        multipointLine.coordinates.push(chiDn);
                        multipointLine.coordinates.push(denLa);
                    }
                    if (pressedCities.includes("denver") && pressedCities.includes("la")){
                        multipointLine.coordinates.push(denLa);
                    }
                    if (pressedCities.includes("min") && pressedCities.includes("dallas")){
                        multipointLine.coordinates.push(minDa);
                    }
                    if (pressedCities.includes("min") && pressedCities.includes("houston")){
                        multipointLine.coordinates.push(dalHo);
                        multipointLine.coordinates.push(minDa);
                    }
                    if (pressedCities.includes("boston") && pressedCities.includes("houston")){
                        multipointLine.coordinates.push(bostonNewYork);
                        multipointLine.coordinates.push(newDc);
                        multipointLine.coordinates.push(wasAt);
                        multipointLine.coordinates.push(atHou);
                    }
                    if (pressedCities.includes("newyork") && pressedCities.includes("houston")){
                        multipointLine.coordinates.push(newDc);
                        multipointLine.coordinates.push(wasAt);
                        multipointLine.coordinates.push(atHou);
                    }
                    if (pressedCities.includes("dc") && pressedCities.includes("houston")){
                        multipointLine.coordinates.push(wasAt);
                        multipointLine.coordinates.push(atHou);
                    }
                    if (pressedCities.includes("dc") && pressedCities.includes("dallas")){
                        multipointLine.coordinates.push(wasDa);
                    }
                    if (pressedCities.includes("dc") && pressedCities.includes("denver")){
                        multipointLine.coordinates.push(wasDn);
                    }
                    if (pressedCities.includes("dc") && pressedCities.includes("az")){
                        multipointLine.coordinates.push(wasAz);
                    }
                    if (pressedCities.includes("dc") && pressedCities.includes("la")){
                        multipointLine.coordinates.push(wasLa);
                    }
                    if (pressedCities.includes("boston") && pressedCities.includes("denver")){
                        multipointLine.coordinates.push(bostonNewYork);
                        multipointLine.coordinates.push(newDc);
                        multipointLine.coordinates.push(wasDn);
                    }
                    if (pressedCities.includes("boston") && pressedCities.includes("la")){
                        multipointLine.coordinates.push(bostonNewYork);
                        multipointLine.coordinates.push(newDc);
                        multipointLine.coordinates.push(wasLa);
                    }
                    if (pressedCities.includes("boston") && pressedCities.includes("az")){
                        multipointLine.coordinates.push(bostonNewYork);
                        multipointLine.coordinates.push(newDc);
                        multipointLine.coordinates.push(wasAz);
                    }
                    if (pressedCities.includes("boston") && pressedCities.includes("dallas")){
                        multipointLine.coordinates.push(bostonNewYork);
                        multipointLine.coordinates.push(newDc);
                        multipointLine.coordinates.push(wasDa);
                    }
                    if (pressedCities.includes("newyork") && pressedCities.includes("dallas")){
                        multipointLine.coordinates.push(newDc);
                        multipointLine.coordinates.push(wasDa);
                    }
                    if (pressedCities.includes("newyork") && pressedCities.includes("az")){
                        multipointLine.coordinates.push(newDc);
                        multipointLine.coordinates.push(wasAz);
                    }
                    if (pressedCities.includes("newyork") && pressedCities.includes("la")){
                        multipointLine.coordinates.push(wasLa);
                        multipointLine.coordinates.push(newDc);
                    }
                    if (pressedCities.includes("newyork") && pressedCities.includes("denver")){
                        multipointLine.coordinates.push(newDc);
                        multipointLine.coordinates.push(wasDn);
                    }
                    if (pressedCities.includes("atlanta") && pressedCities.includes("az")){
                        multipointLine.coordinates.push(atDal);
                        multipointLine.coordinates.push(dalAz);
                    }
                    if (pressedCities.includes("atlanta") && pressedCities.includes("la")){
                        multipointLine.coordinates.push(atDal);
                        multipointLine.coordinates.push(dalAz);
                        multipointLine.coordinates.push(laAz);
                    }
                    if (pressedCities.includes("atlanta") && pressedCities.includes("denver")){
                        multipointLine.coordinates.push(atDal);
                        multipointLine.coordinates.push(dalDn);
                    }
                    if (pressedCities.includes("dallas") && pressedCities.includes("az")){
                        multipointLine.coordinates.push(dalAz);
                    }
                    if (pressedCities.includes("houston") && pressedCities.includes("az")){
                        multipointLine.coordinates.push(houAz);
                    }
                    if (pressedCities.includes("dallas") && pressedCities.includes("la")){
                        multipointLine.coordinates.push(dalAz);
                        multipointLine.coordinates.push(laAz);
                    }
                    if (pressedCities.includes("houston") && pressedCities.includes("la")){
                        multipointLine.coordinates.push(houAz);
                        multipointLine.coordinates.push(laAz);
                    }
                    if (pressedCities.includes("denver") && pressedCities.includes("az")){
                        multipointLine.coordinates.push(denAz);
                    }
                    if (pressedCities.includes("denver") && pressedCities.includes("la")){
                        multipointLine.coordinates.push(denLa);
                    }
                    if (pressedCities.includes("chicago") && pressedCities.includes("az")){
                        multipointLine.coordinates.push(chiAz);
                    }
                    if (pressedCities.includes("chicago") && pressedCities.includes("la")){
                        multipointLine.coordinates.push(chiDn);
                        multipointLine.coordinates.push(denLa);
                    }
                    if (pressedCities.includes("min") && pressedCities.includes("la")){
                        multipointLine.coordinates.push(minDn);
                        multipointLine.coordinates.push(denLa);
                    }
                    if (pressedCities.includes("min") && pressedCities.includes("az")){
                        multipointLine.coordinates.push(minDn);
                        multipointLine.coordinates.push(denAz);
                    }
                    console.log(multipointLine.coordinates);
                    projection(multipointLine);

                    bool = true;
                
                }

                function projection(line){
                    //create a scale and tanslation for the map
                    var albersProjection = d3.geo.albersUsa()
                    .scale(1325)
                    .translate([930/2, 490/2]);

                    //allows for easy pasting of routes to the svg container
                    var geoPath = d3.geo.path().projection(albersProjection);


                    //add all routes to the svg container
                    var lineStringPath1 = svg.append("path").attr("d", geoPath(line)).style("stroke", "red").style("fill", "none");
                }
        </script>
    </div>
  </body>
</html>
